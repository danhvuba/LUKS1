Давайте рассмотрим простой пример с nullCipher:
Размер блока 128 бит, длина ключа 128.
	F_K(х) = х
и зашифруйте раздел /dev/sda3 в режиме ECB


1. Установить модули: 
компилировать модули:
	sudo make install

загрузить модуль в ядро Linux:
	sudo insmod nullCipher.ko

2. Шифрование: 
Шифрование данных:
	sudo cryptsetup luksFormat --type luks1 --cipher nullCipher-ecb --key-size 128 /dev/sda3

Открытия раздела: 
	sudo cryptsetup open /dev/sda3 data

Обратите внимание, что при первом открытии раздела вам необходимо отформатировать его в формат ext4. 
В следующий раз просто откройте и работайте нормально.
 

Затем скопируйте file1 раздел


3. Определение местоположения файлов и данных
Определение местоположения file 1в открытом разделе:
	filefrag -b512 -v file1

file1  находиться  в секторах 16533 и 16534
В этом примере заголовок раздела занимает 2048 секторов:

Следовательно, зашифрованные данные file1 будут находиться в секторе 16533+2048=18581



Проверим данные в открытом разделе и зашифрованном разделе:
	sudo hd /dev/mapper/data -s 16532b -n 1024
	sudo hd /dev/sda3 -s 18580b -n 1024


4. Закрытие раздела
Закрытия раздела:
	sudo cryptsetup close data

Удаление модулей из ядра Linux:
	sudo rmmod nullCipher

Очисление скомпилированных модулей в каталоге:
	sudo make clean


